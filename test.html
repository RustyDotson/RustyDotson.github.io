<!DOCTYPE html>
<html>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div class="icon-bar">
  <a  href="index.html"><i class="fa fa-home"></i> Home</a>
  <a href="https://github.com/RustyDotson">
    <i class="fa fa-github"></i> Github</a>
  <a href="https://soundcloud.com/rustyraydot">
    <i class="fa fa-soundcloud"></i> Music</a>
  <a class="active" href="#"><i class="fa fa-paint-brush"></i> Artwork</a>
  <a href="Dotson_resume.pdf"><i class="fa fa-file"></i> Resume</a>
</div>


<head>
        <title>Rusty Dotson</title>
        <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
	<script src="poem.js"></script>
</head>

<body>
    <!-- Slideshow container -->

  <br>

  <!-- The dots/circles -->
  <div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
  <span class="dot" onclick="currentSlide(4)"></span>
  <span class="dot" onclick="currentSlide(5)"></span>
  <span class="dot" onclick="currentSlide(6)"></span>
  <span class="dot" onclick="currentSlide(7)"></span>
  <span class="dot" onclick="currentSlide(8)"></span>
  <span class="dot" onclick="currentSlide(9)"></span>
  <span class="dot" onclick="currentSlide(10)"></span>
  <span class="dot" onclick="currentSlide(11)"></span>
  <span class="dot" onclick="currentSlide(12)"></span>
  <span class="dot" onclick="currentSlide(13)"></span>
  <span class="dot" onclick="currentSlide(14)"></span>
  <span class="dot" onclick="currentSlide(15)"></span>
  <span class="dot" onclick="currentSlide(16)"></span>
  </div>
</body>

<script>
  var slideIndex = 1;
  var bar = euclidean(4, 16)
  var myWorker = new Worker("worker.js")
  showSlides(slideIndex, bar);

  // Next/previous controls
  function plusSlides(n) {
    showSlides(slideIndex += n);
  }

  // Thumbnail image controls
  function currentSlide(n) {
    showSlides(slideIndex = n);
  }

  // Creates a euclidean rhythm described in a list
  function euclidean(beats, size){
    var bar = [];

    var counter = 0;
    for (i = 0; i < size; i++){
        counter += beats;
        if (counter >= size){
            counter -= size;
            bar.push(1);
        } else{
            bar.push(0);
        }
    }
    return bar;
  }

  function play(dots){
    var audio = new Audio("hihat_opened01.ogg");
    var i;
    while (true){
      for (i = 0; i < 17; i++){
        if (dots[i].className == " dotActive"){
          play(audio);
          console.log("hi");
        }
        i = 0;
      }
    }
  }

  function showSlides(n, bar) {
    var i;
    var a;
    var slides = document.getElementsByClassName("mySlides");
    var dots = document.getElementsByClassName("dot");
    for (a = 0; a < bar.length; a++){
      if (bar[a] == 1){
        dots[a].className += " dotActive";
      }
    }
    myWorker.postMessage(dots);
  }
</script>
</html>
